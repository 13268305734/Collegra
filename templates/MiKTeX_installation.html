{% extends "base.html" %}

{% block title %}
      Collegra | MiKTeX Installation Guide
{% endblock %}

{% block head %}
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        .installation-step {
            margin-bottom: 1.5rem;
        }
        .installation-step img {
            max-width: 50%; /* Reduce image size to 75% of parent width */
            height: auto;
            border: 1px solid #d1d5db;
            margin: 0.5rem auto; /* Center horizontally with auto margins */
            display: block; /* Ensure block-level for centering */
            border-radius: 0.25rem;
        }
        code {
            background-color: #f3f4f6;
            padding: 0.2rem 0.4rem;
            border-radius: 0.25rem;
        }
        .info-banner {
            background: linear-gradient(45deg, #f0f9ff, #e0f2fe);
            border-left: 4px solid #3b82f6;
            border-radius: 8px;
            padding: 16px;
            margin-bottom: 24px;
        }
        .info-banner a {
            color: #3b82f6;
            text-decoration: underline;
            transition: color 0.3s ease;
        }
        .info-banner a:hover {
            color: #1d4ed8;
        }
    </style>
{% endblock %}

{% block content %}
    <h1 class="text-3xl font-bold mb-6">
        <span class="lang-en hidden">MiKTeX Installation Guide</span>
        <span class="lang-zh">MiKTeX 安装指南</span>
    </h1>

    <div class="info-banner">
        <p>
            <span class="lang-en hidden">This guide explains how to install MiKTeX to compile LaTeX files locally for generating PDF resumes. MiKTeX is a lightweight LaTeX distribution that supports both English and Chinese resumes. </span>
            <span class="lang-zh">本指南介绍如何安装 MiKTeX 以本地编译 LaTeX 文件，生成 PDF 简历。MiKTeX 是一个轻量级的 LaTeX 发行版，支持英文和中文简历。</span>
        </p>
    </div>

    <div class="installation-step">
        <h4 id="step-1" class="text-xl font-semibold mb-2">
            <span class="lang-en hidden">Step 1</span>
            <span class="lang-zh">第一步</span>
        </h4>
        <p>
            <span class="lang-en hidden">Visit the <a href="https://miktex.org/download" class="text-blue-500 hover:underline">MiKTeX website</a> and click the download button to get the installer (<code>basic-miktex-24.1-x64.exe</code>).</span>
            <span class="lang-zh">访问 <a href="https://miktex.org/download" class="text-blue-500 hover:underline">MiKTeX 官网</a>，点击下载按钮获取安装包 (<code>basic-miktex-24.1-x64.exe</code>)。</span>
            <br>
            <img src="{{ url_for('static', filename='MiKTeX_installation/MiKTeX_page.png') }}"
                 alt="MiKTeX website download page">
        </p>
    </div>

    <div class="installation-step">
        <h4 id="step-2" class="text-xl font-semibold mb-2">
            <span class="lang-en hidden">Step 2</span>
            <span class="lang-zh">第二步</span>
        </h4>
        <p>
            <span class="lang-en hidden">After downloading, run the installer (<code>basic-miktex-24.1-x64.exe</code>) and follow the prompts to complete the installation.</span>
            <span class="lang-zh">下载完成后，打开安装包 (<code>basic-miktex-24.1-x64.exe</code>)，跟随指引完成安装。</span>
            <br>
            <img src="{{ url_for('static', filename='MiKTeX_installation/MiKTeX_install.png') }}"
                 alt="MiKTeX installation wizard window">
        </p>
    </div>

    <div class="installation-step">
        <h4 id="step-3" class="text-xl font-semibold mb-2">
            <span class="lang-en hidden">Step 3</span>
            <span class="lang-zh">第三步</span>
        </h4>
        <p>
            <span class="lang-en hidden">Verify the installation by running <code>xelatex --version</code> in a terminal. If successful, you should see output indicating the XeLaTeX version. If not, ensure the MiKTeX <code>bin</code> directory is added to your system’s PATH environment variable.</span>
            <span class="lang-zh">在终端运行 <code>xelatex --version</code> 验证安装是否成功。如果成功，应显示 XeLaTeX 版本信息。如果失败，请确保将 MiKTeX 的 <code>bin</code> 目录添加到系统环境变量 PATH 中。</span>
            <br>
            <img src="{{ url_for('static', filename='MiKTeX_installation/MiKTeX_check.png') }}"
                 alt="XeLaTeX version check command output">
        </p>
    </div>

    <div class="installation-step">
        <h4 id="step-4" class="text-xl font-semibold mb-2">
            <span class="lang-en hidden">Step 4</span>
            <span class="lang-zh">第四步</span>
        </h4>
        <p>
            <span class="lang-en hidden">Run the resume generator. MiKTeX may prompt you to install missing LaTeX packages during the first compilation. Follow the prompts to install them, and subsequent compilations will not require this.</span>
            <span class="lang-zh">运行简历生成器。MiKTeX 是轻量级编译器，首次编译可能提示安装缺失的 LaTeX 宏包，按照提示安装即可，后续编译不再提示。</span>
            <br>
            <img src="{{ url_for('static', filename='MiKTeX_installation/MiKTeX_macro.png') }}"
                 alt="MiKTeX package installation prompt">
        </p>
    </div>

    <div class="flex justify-end mt-4">
        <a href="{{ url_for('resume') }}" class="bg-gray-500 text-white px-4 py-2 rounded button">
            <span class="lang-en hidden">Back to Resume Generator</span>
            <span class="lang-zh">返回简历生成器</span>
        </a>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const lang = localStorage.getItem('language') || 'zh';
            document.querySelectorAll('.lang-en').forEach(el => el.classList.toggle('hidden', lang !== 'en'));
            document.querySelectorAll('.lang-zh').forEach(el => el.classList.toggle('hidden', lang !== 'zh'));
        });
    </script>
{% endblock %}